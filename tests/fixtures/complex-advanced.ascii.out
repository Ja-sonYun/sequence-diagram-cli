,---------------------------------------.  ,-------------.  ,----------.  ,--------------.  ,--------------.  ,---------------.  ,----------.  ,---------.  
|              System Core              |  | API Gateway |  | Worker-1 |  |   Worker-2   |  |  DB Cluster  |  |  Cache Layer  |  | 外部連携 |  | QA Team |  
`---------------------------------------'  `-------------'  `----------'  `--------------'  `--------------'  `---------------'  `----------'  `---------'  
                    |                             |               |               |                 |                 |                |            |       
                    |                             |               |               |                 |                 |                |            |       
                    |                             |               |               |                 |                 |                |            |
     ,-----------.  |           startup           |               |               |                 |                 |                |            |
     | init note |  +---------------------------->|               |               |                 |                 |                |            |
     `-----------'  |                             |               |               |                 |                 |                |            |
                    |                             |               |               |                 |                 |                |            |
                    |                             |               |      init     |                 |                 |                |            |
                    |                             |               |     schema    |                 | ,-------------. |                |            |
                    |                             +------------------------------------------------>| | schema note | |                |            |
                    |                             |               |               |                 | `-------------' |                |            |
                    |                             |               |               |                 |                 |                |            |
                    |                             |               |              warmup             |                 |                |            |
                    |                             +------------------------------------------------------------------>|                |            |
                    |                             |               |               |                 | ,------------.  |                |            |       
                    |                             |               |               |                 | | cache note |  |                |            |       
                    |                             |               |               |                 | `------------'  |                |            |       
                    |                             |               |               |                 |                 |                |            |
                    |                             |     job-1     |               |                 |                 |                |            |
                    |                             +-------------->|               |                 |                 |                |            |
                    |                             |               |               |                 |                 |                |            |
                    |                             |             job-2             |                 |                 |                |            |
                    |                             +------------------------------>|                 |                 |                |            |
                    |                             |               |               |                 |                 |                |            |
                    |                             |               |              read               |                 |                |            |
                    |                             |               +-------------------------------->|                 |                |            |
                    |                             |               |               |                 |                 |                |            |
                    |                             |               |             result              |                 |                |            |
                    |                             |               |<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~+                 |                |            |
                    |                             |               |        ,-------------.          |                 |                |            |       
                    |                             |               |        | over result |          |                 |                |            |       
                    |                             |               |        `-------------'          |                 |                |            |       
                    |                             |               |               |                 |                 |                |            |
                    |                             |               |               |      read       |                 |                |            |
                    |                             |               |               +---------------->|                 |                |            |
                    |                             |               |               |                 |                 |                |            |
                    |                             |               |               |     result      |                 |                |            |
                    |                             |               |               |<~~~~~~~~~~~~~~~~+                 |                |            |
                    |                             |               |               |                 |                 |                |            |       
                    |                             |               | self-check    |                 |                 |                |            |
                    |                             |               +--------------.|                 |                 |                |            |
                    |                             |               |              ||                 |                 |                |            |
                    |                             |               <--------------'|                 |                 |                |            |
                    |                             |               |               |                 |                 |                |            |       
                    |                             |               |               | self            |                 |                |            |
                    |                             |               |               | multi           |                 |                |            |
                    |                             |               |               | line            |                 |                |            |
                    |                             |               |               +---------.       |                 |                |            |
                    |                             |               |               |         |       |                 |                |            |
                    |                             |               |               <---------'       |                 |                |            |
                    |                             |               |               |                 |                 |                |            |
                    |                             |               |               |                 |   report        |                |            |
                    |                             |               |               |                 |    line2        |                |            |
                    |                             |               +-------------------------------------------------------------------------------->|
                    |                             |               |               |                 |                 |                |            |
                    |                             |               |               승인              |                 |                |            |
                    |<------------------------------------------------------------------------------------------------------------------------------+
                    |                             |               |               |                 |                 |                |            |
                    |                             |               |         sync  |                 |                 |                |            |
                    |                             |               |         外部  |                 |                 |                |            |
                    +----------------------------------------------------------------------------------------------------------------->|            |
                    |                             |               |               |                 |                 |                |            |
                    |                             |               |       ack-left|                 |                 |                |            |
                    +----------------------------------------------------------------------------------------------------------------->|            |
                    |                             |               |               |                 |                 |                |            |
                    |                        http://example.com/a/b?c=1&d=2       |                 |                 |                |            |
                    +------------------------------------------------------------------------------>|                 |                |            |
                    |                             |               |               |                 |                 |                |            |
                    |                             |               |      done     |                 |                 |                |            |
                    |                             |<------------------------------------------------+                 |                |            |
                    |                             |               |               |                 |                 |                |            |
                    |                             |               |             cache-hit           |                 |                |            |
                    |                             |<------------------------------------------------------------------+                |            |
                    |                             |               |               |                 |                 |                |            |
                    |           summary           |               |               |                 |                 |                |            |
                    |             ok              |               |               |                 |                 |                |            |
                    |<----------------------------+               |               |                 |                 |                |            |
                    |                             |               |               |                 |                 |                |            |       
                    |                             |               |               |                 |                 |                |            |       
                    |                             |               |               |                 |                 |                |            |       
                    |                             |               |               |                 |                 |                |            |       
                    |                             |               |               |                 |                 |                |            |       

